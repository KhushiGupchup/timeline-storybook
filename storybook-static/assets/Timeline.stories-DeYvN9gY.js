import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as p}from"./iframe-CQyJD9rs.js";import"./preload-helper-PPVm8Dsz.js";const y=({startDate:t,totalDays:s,dayWidth:r})=>e.jsxs("div",{className:"flex text-xs sm:text-sm font-semibold text-gray-700 border-b bg-gray-50 sticky top-0 z-10",style:{minWidth:`${200+s*r}px`},children:[e.jsx("div",{className:"w-48 border-r bg-gray-100 flex items-center justify-center py-2 text-gray-800",children:"Team / Dates"}),Array.from({length:s}).map((n,o)=>{const a=new Date(t.getFullYear(),t.getMonth(),o+1),l=a.toLocaleDateString("en-US",{weekday:"short"}),i=a.toDateString()===new Date().toDateString();return e.jsxs("div",{className:`border-r border-gray-200 flex flex-col items-center justify-center text-center py-2 transition-colors ${i?"bg-red-100":"hover:bg-gray-100"}`,style:{width:`${r}px`},children:[e.jsx("span",{className:`font-medium ${i?"text-red-600":"text-gray-700"}`,children:o+1}),e.jsx("span",{className:"text-[10px] text-gray-500",children:l})]},o)})]});y.__docgenInfo={description:"",methods:[],displayName:"TimelineGrid"};const g=(t,s)=>Math.floor((s.getTime()-t.getTime())/(1e3*60*60*24)),f=({row:t,startDate:s,dayWidth:r,totalDays:n})=>{const o=200+n*r;return e.jsxs("div",{className:"flex border-b border-gray-200 relative hover:bg-gray-50 transition",style:{minWidth:`${o}px`},children:[e.jsx("div",{className:"w-48 border-r bg-gray-100 flex items-center justify-center text-sm font-medium text-gray-700 py-3 px-2 whitespace-nowrap",children:t.label}),e.jsx("div",{className:"flex-1 relative h-14",children:t.tasks.map(a=>{const l=g(s,a.startDate),i=g(a.startDate,a.endDate)+1;return e.jsxs("div",{onClick:a.onClick,className:"absolute h-7 rounded-lg text-xs text-white font-medium flex items-center justify-between px-2 shadow-sm hover:shadow-md cursor-pointer transition-all duration-200",style:{left:`${l*r}px`,width:`${i*r}px`,backgroundColor:a.color||"#3b82f6",top:"12px"},title:`${a.title} (${a.progress}%)`,children:[e.jsxs("div",{className:"flex items-center gap-1 truncate",children:[e.jsx("span",{className:"truncate",children:a.title}),e.jsxs("span",{className:"opacity-80 text-[10px]",children:[a.progress,"%"]})]}),e.jsx("div",{className:"absolute left-0 bottom-0 h-1 bg-white/30 rounded-full",children:e.jsx("div",{className:"h-1 bg-white rounded-full",style:{width:`${a.progress}%`}})})]},a.id)})})]})};f.__docgenInfo={description:"",methods:[],displayName:"TimelineRow"};const w=({task:t,onClose:s})=>e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-end z-50",children:e.jsxs("div",{className:"bg-white w-80 h-full p-5 shadow-2xl relative animate-slide-in",children:[e.jsx("button",{onClick:s,className:"absolute top-3 right-3 text-gray-600 hover:text-gray-800",children:"✕"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3 border-b pb-2",children:t.title}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("strong",{children:"Start:"})," ",t.startDate.toLocaleDateString("en-US")]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("strong",{children:"End:"})," ",t.endDate.toLocaleDateString("en-US")]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("strong",{children:"Progress:"})," ",t.progress,"%"]}),e.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full mb-4",children:e.jsx("div",{className:"h-2 rounded-full",style:{width:`${t.progress}%`,backgroundColor:t.color||"#3b82f6"}})}),e.jsx("p",{className:"text-sm text-gray-500",children:"This task belongs to the assigned team and spans multiple days. Review details or mark progress in your workflow."})]})});w.__docgenInfo={description:"",methods:[],displayName:"TaskDetailSidebar"};const j=({rows:t,onTaskSelect:s})=>e.jsx("div",{className:"p-3 space-y-4 bg-gray-50",children:t.map(r=>e.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:r.label}),r.tasks.length===0?e.jsx("p",{className:"text-xs text-gray-500 italic",children:"No tasks this month"}):e.jsx("div",{className:"space-y-2",children:r.tasks.map(n=>e.jsxs("div",{onClick:()=>s(n),className:"flex flex-col bg-gray-50 border rounded-lg p-2 text-xs shadow-sm hover:shadow-md cursor-pointer",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-gray-800 truncate",children:n.title}),e.jsxs("span",{className:"text-gray-500",children:[n.progress,"%"]})]}),e.jsxs("div",{className:"text-gray-500 text-[10px] mt-1",children:[n.startDate.toLocaleDateString("en-US",{month:"short",day:"numeric"})," ","-"," ",n.endDate.toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),e.jsx("div",{className:"w-full h-1.5 bg-gray-200 rounded-full mt-1",children:e.jsx("div",{className:"h-1.5 rounded-full",style:{width:`${n.progress}%`,backgroundColor:n.color||"#3b82f6"}})})]},n.id))})]},r.id))});j.__docgenInfo={description:"",methods:[],displayName:"MobileTimelineView"};const u=({rows:t,startDate:s,endDate:r})=>{const[n,o]=p.useState(null),a=g(s,r)+1,l=45,i=new Date,b=i>=s&&i<=r?g(s,i):null;return e.jsxs("div",{className:"bg-white rounded-xl shadow-md border w-full overflow-hidden relative",children:[e.jsx("div",{className:"hidden sm:block overflow-x-auto",children:e.jsxs("div",{className:"relative min-w-max",children:[e.jsx(y,{startDate:s,totalDays:a,dayWidth:l}),b!==null&&e.jsx("div",{className:"absolute top-[42px] bottom-0 w-[2px] bg-red-500 z-20",style:{left:`${200+b*l}px`}}),t.map(c=>e.jsx(f,{row:{...c,tasks:c.tasks.map(d=>({...d,onClick:()=>o(d)}))},startDate:s,dayWidth:l,totalDays:a},c.id))]})}),e.jsx("div",{className:"block sm:hidden",children:e.jsx(j,{rows:t,onTaskSelect:o})}),n&&e.jsx(w,{task:n,onClose:()=>o(null)})]})};u.__docgenInfo={description:"",methods:[],displayName:"Timeline"};function D(t,s){const[r,n]=p.useState(t),[o,a]=p.useState(s),[l,i]=p.useState("day");return{startDate:r,endDate:o,setStartDate:n,setEndDate:a,shiftMonth:c=>{const d=new Date(r);d.setMonth(d.getMonth()+c);const v=new Date(d.getFullYear(),d.getMonth()+1,0);n(d),a(v)},view:l,setView:i}}const M={title:"Components/Timeline",component:u},S=[{id:"frontend",label:"Frontend Team",tasks:[{id:"t1",title:"UI Components",startDate:new Date(2025,0,2),endDate:new Date(2025,0,14),progress:90,color:"#3b82f6"}]},{id:"backend",label:"Backend Team",tasks:[{id:"t2",title:"API Development",startDate:new Date(2025,0,8),endDate:new Date(2025,0,22),progress:100,color:"#16a34a"}]}],N=()=>{const{startDate:t,endDate:s,shiftMonth:r}=D(new Date(2025,0,1),new Date(2025,0,31));return e.jsxs("div",{className:"p-4 bg-gray-100 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("button",{onClick:()=>r(-1),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"◀ Prev"}),e.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:t.toLocaleString("default",{month:"long",year:"numeric"})}),e.jsx("button",{onClick:()=>r(1),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Next ▶"})]}),e.jsx(u,{rows:S,startDate:t,endDate:s})]})},m=()=>e.jsx(N,{}),x=()=>e.jsx("div",{className:"w-[400px] mx-auto border rounded-md shadow-md",children:e.jsx(N,{})}),h=()=>e.jsx(u,{rows:[],startDate:new Date(2025,0,1),endDate:new Date(2025,0,31)});m.__docgenInfo={description:"",methods:[],displayName:"Default"};x.__docgenInfo={description:"",methods:[],displayName:"MobileView"};h.__docgenInfo={description:"",methods:[],displayName:"Empty"};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:"() => <Wrapper />",...m.parameters?.docs?.source}}};x.parameters={...x.parameters,docs:{...x.parameters?.docs,source:{originalSource:`() => <div className="w-[400px] mx-auto border rounded-md shadow-md">\r
    <Wrapper />\r
  </div>`,...x.parameters?.docs?.source}}};h.parameters={...h.parameters,docs:{...h.parameters?.docs,source:{originalSource:"() => <Timeline rows={[]} startDate={new Date(2025, 0, 1)} endDate={new Date(2025, 0, 31)} />",...h.parameters?.docs?.source}}};const $=["Default","MobileView","Empty"];export{m as Default,h as Empty,x as MobileView,$ as __namedExportsOrder,M as default};
